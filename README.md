# å‰ªåˆ‡æ¿åŒæ­¥æœåŠ¡

ä¸€ä¸ªè·¨è®¾å¤‡çš„å‰ªåˆ‡æ¿åŒæ­¥æœåŠ¡ï¼Œæ”¯æŒæ–‡å­—å’Œå›¾ç‰‡å†…å®¹çš„å®æ—¶åŒæ­¥ã€‚

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ“‹ **å‰ªåˆ‡æ¿åŒæ­¥**: æ”¯æŒæ–‡å­—å’Œå›¾ç‰‡å†…å®¹çš„è·¨è®¾å¤‡åŒæ­¥
- ğŸ”„ **å®æ—¶æ›´æ–°**: åŸºäºWebSocketçš„å®æ—¶å†…å®¹æ¨é€
- ğŸ“± **å¤šè®¾å¤‡æ”¯æŒ**: æ”¯æŒå¤šä¸ªè®¾å¤‡åŒæ—¶è¿æ¥å’ŒåŒæ­¥
- ğŸ” **å†…å®¹æœç´¢**: æ”¯æŒæŒ‰å†…å®¹ã€ç±»å‹ã€è®¾å¤‡ç­›é€‰å’Œæœç´¢
- ğŸ“Š **æ•°æ®ç»Ÿè®¡**: æä¾›å­˜å‚¨ä½¿ç”¨æƒ…å†µå’ŒåŒæ­¥ç»Ÿè®¡

### ç®¡ç†åŠŸèƒ½
- ğŸ—‚ï¸ **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡é€‰æ‹©ã€åˆ é™¤å‰ªåˆ‡æ¿å†…å®¹
- ğŸ“¤ **å¯¼å…¥å¯¼å‡º**: æ”¯æŒJSONæ ¼å¼çš„æ•°æ®å¯¼å…¥å¯¼å‡º
- âš™ï¸ **é…ç½®ç®¡ç†**: çµæ´»çš„åŒæ­¥å’Œæ¸…ç†ç­–ç•¥é…ç½®
- ğŸ§¹ **è‡ªåŠ¨æ¸…ç†**: å¯é…ç½®çš„è¿‡æœŸå†…å®¹è‡ªåŠ¨æ¸…ç†
- ğŸ“ˆ **å®æ—¶ç›‘æ§**: è®¾å¤‡è¿æ¥çŠ¶æ€å’ŒåŒæ­¥çŠ¶æ€ç›‘æ§

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **React 18** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **React Router** - å®¢æˆ·ç«¯è·¯ç”±
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Lucide React** - å›¾æ ‡åº“
- **Sonner** - ä¼˜é›…çš„é€šçŸ¥ç»„ä»¶

### åç«¯æŠ€æœ¯æ ˆ
- **Node.js** - JavaScriptè¿è¡Œæ—¶
- **Express.js** - Webåº”ç”¨æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **WebSocket (ws)** - å®æ—¶é€šä¿¡
- **MySQL** - å…³ç³»å‹æ•°æ®åº“
- **Multer** - æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶
- **CORS** - è·¨åŸŸèµ„æºå…±äº«

## é¡¹ç›®ç»“æ„

```
clipboard-sync/
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ lib/               # å·¥å…·åº“
â”‚   â””â”€â”€ assets/            # é™æ€èµ„æº
â”œâ”€â”€ api/                   # åç«¯æºç 
â”‚   â”œâ”€â”€ routes/            # APIè·¯ç”±
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ database.ts        # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ websocket.ts       # WebSocketæœåŠ¡
â”‚   â”œâ”€â”€ app.ts             # Expressåº”ç”¨
â”‚   â””â”€â”€ server.ts          # æœåŠ¡å™¨å…¥å£
â”œâ”€â”€ shared/                # å…±äº«ç±»å‹å®šä¹‰
â”œâ”€â”€ migrations/            # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ uploads/               # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â””â”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- MySQL >= 8.0
- npm >= 8.0.0

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/yourusername/clipboard-sync.git
cd clipboard-sync
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯ï¼š
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=clipboard_sync

# æœåŠ¡å™¨é…ç½®
PORT=3001
NODE_ENV=development

# WebSocketé…ç½®
WS_PORT=3002
```

4. **åˆå§‹åŒ–æ•°æ®åº“**

åœ¨MySQLä¸­åˆ›å»ºæ•°æ®åº“ï¼š
```sql
CREATE DATABASE clipboard_sync CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼š
```bash
mysql -u root -p clipboard_sync < migrations/001_init_database.sql
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

è¿™å°†åŒæ—¶å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆhttp://localhost:5173ï¼‰å’Œåç«¯APIæœåŠ¡å™¨ï¼ˆhttp://localhost:3001ï¼‰ã€‚

### ç”Ÿäº§éƒ¨ç½²

1. **æ„å»ºé¡¹ç›®**
```bash
npm run build
```

2. **å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨**
```bash
npm start
```

## ä½¿ç”¨æŒ‡å—

### ä¸»è¦é¡µé¢

1. **ä¸»é¡µé¢** (`/`)
   - æŸ¥çœ‹æ‰€æœ‰å‰ªåˆ‡æ¿å†…å®¹
   - æœç´¢å’Œç­›é€‰å†…å®¹
   - ä¸€é”®å¤åˆ¶åˆ°å‰ªåˆ‡æ¿
   - æŸ¥çœ‹è®¾å¤‡è¿æ¥çŠ¶æ€

2. **ä¸Šä¼ é¡µé¢** (`/upload`)
   - ä¸Šä¼ æ–‡å­—å†…å®¹
   - ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶
   - æ”¯æŒæ‹–æ‹½ä¸Šä¼ 
   - æ”¯æŒå‰ªåˆ‡æ¿ç²˜è´´

3. **è®¾ç½®é¡µé¢** (`/settings`)
   - è®¾å¤‡ç®¡ç†
   - åŒæ­¥é…ç½®
   - æ¸…ç†ç­–ç•¥
   - å­˜å‚¨ç»Ÿè®¡

4. **ç®¡ç†é¡µé¢** (`/manage`)
   - æ‰¹é‡æ“ä½œ
   - å¯¼å…¥å¯¼å‡º
   - å†…å®¹åˆ†ç±»
   - é«˜çº§ç­›é€‰

### APIæ¥å£

#### å‰ªåˆ‡æ¿æ¥å£
- `GET /api/clipboard` - è·å–å‰ªåˆ‡æ¿å†…å®¹åˆ—è¡¨
- `POST /api/clipboard` - åˆ›å»ºæ–°çš„å‰ªåˆ‡æ¿å†…å®¹
- `DELETE /api/clipboard/:id` - åˆ é™¤æŒ‡å®šå†…å®¹

#### è®¾å¤‡æ¥å£
- `GET /api/devices` - è·å–è®¾å¤‡åˆ—è¡¨
- `POST /api/devices` - æ³¨å†Œæ–°è®¾å¤‡
- `PUT /api/devices/:id` - æ›´æ–°è®¾å¤‡ä¿¡æ¯

#### é…ç½®æ¥å£
- `GET /api/config` - è·å–é…ç½®ä¿¡æ¯
- `PUT /api/config` - æ›´æ–°é…ç½®
- `POST /api/config/cleanup` - æ‰§è¡Œæ¸…ç†æ“ä½œ

### WebSocketäº‹ä»¶

#### å®¢æˆ·ç«¯å‘é€
- `sync` - è¯·æ±‚åŒæ­¥
- `get_text` - è·å–æ–‡å­—å†…å®¹
- `get_image` - è·å–å›¾ç‰‡å†…å®¹
- `get_latest` - è·å–æœ€æ–°å†…å®¹
- `ping` - å¿ƒè·³æ£€æµ‹

#### æœåŠ¡å™¨æ¨é€
- `new_item` - æ–°å†…å®¹é€šçŸ¥
- `item_deleted` - å†…å®¹åˆ é™¤é€šçŸ¥
- `sync_response` - åŒæ­¥å“åº”
- `pong` - å¿ƒè·³å“åº”

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `DB_HOST` | æ•°æ®åº“ä¸»æœº | localhost |
| `DB_PORT` | æ•°æ®åº“ç«¯å£ | 3306 |
| `DB_USER` | æ•°æ®åº“ç”¨æˆ·å | root |
| `DB_PASSWORD` | æ•°æ®åº“å¯†ç  | - |
| `DB_NAME` | æ•°æ®åº“åç§° | clipboard_sync |
| `PORT` | æœåŠ¡å™¨ç«¯å£ | 3001 |
| `WS_PORT` | WebSocketç«¯å£ | 3002 |
| `MAX_FILE_SIZE` | æœ€å¤§æ–‡ä»¶å¤§å° | 10485760 (10MB) |
| `AUTO_CLEANUP_ENABLED` | è‡ªåŠ¨æ¸…ç†å¼€å…³ | true |
| `AUTO_CLEANUP_DAYS` | è‡ªåŠ¨æ¸…ç†å¤©æ•° | 30 |
| `MAX_ITEMS_PER_DEVICE` | æ¯è®¾å¤‡æœ€å¤§æ¡ç›®æ•° | 1000 |

### æ•°æ®åº“é…ç½®

é¡¹ç›®ä½¿ç”¨MySQLæ•°æ®åº“ï¼Œä¸»è¦è¡¨ç»“æ„ï¼š

- `clipboard_items` - å‰ªåˆ‡æ¿å†…å®¹è¡¨
- `devices` - è®¾å¤‡ä¿¡æ¯è¡¨

è¯¦ç»†çš„è¡¨ç»“æ„è¯·å‚è€ƒ `migrations/001_init_database.sql` æ–‡ä»¶ã€‚

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

- ä½¿ç”¨TypeScriptè¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ªESLintè§„åˆ™
- ä½¿ç”¨Prettieræ ¼å¼åŒ–ä»£ç 
- ç»„ä»¶æ–‡ä»¶ä½¿ç”¨PascalCaseå‘½å
- å·¥å…·å‡½æ•°ä½¿ç”¨camelCaseå‘½å

### å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ä»…å¯åŠ¨å‰ç«¯
npm run dev:frontend

# ä»…å¯åŠ¨åç«¯
npm run dev:backend

# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ£€æŸ¥
npm run lint

# ä¿®å¤ä»£ç æ ¼å¼
npm run lint:fix

# æ„å»ºé¡¹ç›®
npm run build

# æ¸…ç†æ„å»ºæ–‡ä»¶
npm run clean
```

### æ·»åŠ æ–°åŠŸèƒ½

1. **å‰ç«¯ç»„ä»¶**
   - åœ¨ `src/components/` ç›®å½•ä¸‹åˆ›å»ºæ–°ç»„ä»¶
   - ä½¿ç”¨TypeScriptå’ŒTailwind CSS
   - éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼

2. **åç«¯API**
   - åœ¨ `api/routes/` ç›®å½•ä¸‹åˆ›å»ºæ–°è·¯ç”±
   - ä½¿ç”¨Express Router
   - æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†

3. **æ•°æ®åº“å˜æ›´**
   - åœ¨ `migrations/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„è¿ç§»æ–‡ä»¶
   - ä½¿ç”¨æ—¶é—´æˆ³å‘½åï¼š`YYYYMMDD_HHMMSS_description.sql`

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
   - éªŒè¯æ•°æ®åº“é…ç½®ä¿¡æ¯
   - ç¡®è®¤æ•°æ®åº“ç”¨æˆ·æƒé™

2. **WebSocketè¿æ¥å¤±è´¥**
   - æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
   - éªŒè¯é˜²ç«å¢™è®¾ç½®
   - ç¡®è®¤CORSé…ç½®

3. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**
   - æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
   - éªŒè¯æ–‡ä»¶å¤§å°é™åˆ¶
   - ç¡®è®¤ç£ç›˜ç©ºé—´

### æ—¥å¿—æŸ¥çœ‹

åº”ç”¨æ—¥å¿—ä¿å­˜åœ¨ `logs/app.log` æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹ï¼š

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/app.log

# æœç´¢é”™è¯¯æ—¥å¿—
grep "ERROR" logs/app.log
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: https://github.com/yourusername/clipboard-sync
- é—®é¢˜åé¦ˆ: https://github.com/yourusername/clipboard-sync/issues
- é‚®ç®±: your.email@example.com

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-XX)
- ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ æ”¯æŒæ–‡å­—å’Œå›¾ç‰‡åŒæ­¥
- âœ¨ å®æ—¶WebSocketé€šä¿¡
- âœ¨ å¤šè®¾å¤‡ç®¡ç†
- âœ¨ æ‰¹é‡æ“ä½œåŠŸèƒ½
- âœ¨ å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
- âœ¨ è‡ªåŠ¨æ¸…ç†ç­–ç•¥
- âœ¨ å®Œæ•´çš„é…ç½®ç®¡ç†

---

æ„Ÿè°¢ä½¿ç”¨å‰ªåˆ‡æ¿åŒæ­¥æœåŠ¡ï¼å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰ç”¨ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ï¼