# 全局粘贴功能说明

## 功能概述

现在在主页上实现了全局粘贴功能，用户可以在主页的任何地方使用 `Ctrl+V` 快捷键直接粘贴内容并自动上传到共享剪切板。

## 功能特点

### 1. 全局响应
- 在主页的任何位置都可以使用 `Ctrl+V` 粘贴
- 不受页面区域限制，整个页面都是粘贴区域
- 自动排除输入框区域，避免干扰正常的输入操作

### 2. 智能内容识别
- **图片优先**: 如果剪切板中有图片，优先处理图片内容
- **文字内容**: 如果没有图片，处理文字内容
- **自动类型判断**: 根据剪切板内容自动选择合适的上传类型

### 3. 实时状态反馈
- **上传中状态**: 显示蓝色加载提示
- **成功状态**: 显示绿色成功提示，包含内容预览
- **失败状态**: 显示红色错误提示，包含错误信息
- **自动消失**: 成功提示3秒后消失，失败提示5秒后消失

### 4. 智能列表更新
- 如果当前没有搜索和筛选条件，新上传的内容会自动添加到列表顶部
- 如果有筛选条件，会检查新内容是否符合条件，符合则添加到列表

## 使用方法

1. **复制内容**: 在任何应用中复制文字或图片到剪切板
2. **打开主页**: 确保在共享剪切板的主页
3. **粘贴上传**: 按 `Ctrl+V` 即可自动上传
4. **查看结果**: 右上角会显示上传状态和结果

## 支持的内容类型

### 文字内容
- 纯文本
- 富文本（会转换为纯文本）
- 自动去除首尾空格

### 图片内容
- 支持格式: JPG, PNG, GIF, WebP 等
- 大小限制: 最大 5MB
- 自动生成文件名: `clipboard-image-{timestamp}.{ext}`

## 技术实现

### 核心组件
- `useGlobalPaste`: 自定义 Hook，处理全局粘贴逻辑
- `GlobalPasteIndicator`: 状态指示器组件
- 集成到 `Home.tsx` 主页组件

### 安全特性
- 自动排除输入框区域，避免干扰正常输入
- 文件大小限制，防止上传过大文件
- 错误处理和用户友好的错误提示

### 浏览器兼容性
- 需要现代浏览器支持 Clipboard API
- 需要 HTTPS 或 localhost 环境
- 首次使用可能需要授权剪切板访问权限

## 用户体验优化

1. **视觉提示**: 页面顶部显示快捷键提示
2. **即时反馈**: 粘贴后立即显示状态
3. **非阻塞**: 上传过程不影响页面其他操作
4. **智能过滤**: 自动判断是否应该添加到当前列表

## 注意事项

- 确保浏览器支持 Clipboard API
- 首次使用时可能需要授权剪切板权限
- 在输入框中粘贴时不会触发全局上传
- 图片大小不能超过 5MB
- 需要稳定的网络连接进行上传
